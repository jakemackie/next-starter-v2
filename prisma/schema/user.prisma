enum Role {
  USER
  ADMIN
}

enum Tier {
  FREE
  PREMIUM
}

model Users {
  uid        String   @id()
  email      String   @unique
  username   String?   @unique
  firstName  String?
  lastName   String?

  // user settings
  role       Role     @default(USER)
  tier       Tier     @default(FREE)

  // profile
  profile    Profile?

  // timestamps
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
  lastLogin  DateTime?
}

model Profile {
  uid        String   @id @default(cuid())
  userUid String @unique
  user Users @relation(fields: [userUid], references: [uid], onDelete: Cascade, onUpdate: Cascade)

  // profile visibility
  isPublic Boolean @default(true)
  isVerified Boolean @default(false)
  showEmail Boolean @default(false)

  // profile content
  avatarUrl String?
  bio String? @db.Text

  // timestamps
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
}
